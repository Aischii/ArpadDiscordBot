(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,82754,e=>{"use strict";var t=e.i(19934),s=e.i(17079);let l=({embedKey:e,title:l})=>{let[a,n]=(0,s.useState)({title:"",description:"",color:"#5865F2",fields:[]}),[r,i]=(0,s.useState)(!1);(0,s.useEffect)(()=>{o()},[e]);let o=async()=>{try{let t=await fetch("/api/embed"),s=await t.json();s[e]&&n(s[e])}catch(e){console.error("Failed to load embed:",e)}},d=async()=>{try{await fetch("/api/embed",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({[e]:a})}),alert("Embed saved successfully!")}catch(e){console.error("Failed to save embed:",e)}},c=(e,t)=>{let s=[...a.fields||[]];s[e]=t,n({...a,fields:s})};return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:l}),(0,t.jsx)("button",{onClick:()=>i(!r),className:"text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded transition",children:r?"Visual":"JSON"})]}),r?(0,t.jsx)("div",{className:"space-y-3",children:(0,t.jsx)("textarea",{value:JSON.stringify(a,null,2),onChange:e=>{try{n(JSON.parse(e.target.value))}catch{}},className:"w-full h-64 p-3 border border-gray-300 rounded font-mono text-sm"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"border-l-4 border-blue-500 bg-gray-50 p-4 rounded",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Preview"}),(0,t.jsxs)("div",{className:"bg-gray-900 rounded text-white p-4 max-w-sm",style:{borderLeft:`4px solid ${a.color||"#5865F2"}`},children:[a.author&&(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[a.author.icon_url&&(0,t.jsx)("img",{src:a.author.icon_url,alt:"author",className:"w-6 h-6 rounded-full"}),(0,t.jsx)("span",{className:"text-sm font-semibold",children:a.author.name})]}),a.title&&(0,t.jsx)("h3",{className:"font-semibold text-lg mb-2",children:a.title}),a.description&&(0,t.jsx)("p",{className:"text-sm mb-4 whitespace-pre-wrap",children:a.description}),a.thumbnail?.url&&(0,t.jsx)("img",{src:a.thumbnail.url,alt:"thumbnail",className:"rounded mb-4 max-w-full"}),a.fields?.map((e,s)=>(0,t.jsxs)("div",{className:a.fields[s].inline?"inline-block w-1/3":"w-full",children:[(0,t.jsx)("p",{className:"text-xs font-semibold mb-1",children:e.name}),(0,t.jsx)("p",{className:"text-sm mb-3 text-gray-300",children:e.value})]},s)),a.image?.url&&(0,t.jsx)("img",{src:a.image.url,alt:"image",className:"rounded mb-4 w-full"}),a.footer&&(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-4 pt-4 border-t border-gray-700",children:a.footer.text})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,t.jsx)("input",{type:"text",value:a.title||"",onChange:e=>n({...a,title:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 outline-none",maxLength:256})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,t.jsx)("textarea",{value:a.description||"",onChange:e=>n({...a,description:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 outline-none h-24",maxLength:4096})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),(0,t.jsx)("input",{type:"color",value:a.color||"#5865F2",onChange:e=>n({...a,color:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded cursor-pointer"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Author Name"}),(0,t.jsx)("input",{type:"text",value:a.author?.name||"",onChange:e=>n({...a,author:{...a.author,name:e.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Footer Text"}),(0,t.jsx)("input",{type:"text",value:a.footer?.text||"",onChange:e=>n({...a,footer:{text:e.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Fields"}),(0,t.jsx)("button",{onClick:()=>{n({...a,fields:[...a.fields||[],{name:"",value:"",inline:!1}]})},className:"text-sm bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded transition",children:"+ Add Field"})]}),a.fields?.map((e,s)=>(0,t.jsx)("div",{className:"border border-gray-300 p-3 rounded space-y-2",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)("input",{type:"text",placeholder:"Field Name",value:e.name,onChange:t=>c(s,{...e,name:t.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded text-sm focus:ring-2 focus:ring-blue-500 outline-none",maxLength:256}),(0,t.jsx)("textarea",{placeholder:"Field Value",value:e.value,onChange:t=>c(s,{...e,value:t.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded text-sm focus:ring-2 focus:ring-blue-500 outline-none h-16",maxLength:1024}),(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.inline,onChange:t=>c(s,{...e,inline:t.target.checked}),className:"cursor-pointer"}),"Inline"]})]}),(0,t.jsx)("button",{onClick:()=>{n({...a,fields:(a.fields||[]).filter((e,t)=>t!==s)})},className:"ml-2 text-red-500 hover:text-red-700 text-sm font-semibold",children:"âœ•"})]})},s))]})]})]}),(0,t.jsx)("button",{onClick:d,className:"w-full bg-green-500 hover:bg-green-600 text-white font-semibold py-2 rounded transition",children:"Save Embed"})]})};function a(){let[e,a]=(0,s.useState)("general"),[n,r]=(0,s.useState)(null),[i,o]=(0,s.useState)(!0),[d,c]=(0,s.useState)(null);(0,s.useEffect)(()=>{m(),u();let e=setInterval(u,3e4);return()=>clearInterval(e)},[]);let m=async()=>{try{let e=await fetch("/api/config"),t=await e.json();r(t)}catch(e){console.error("Failed to load config:",e)}finally{o(!1)}},u=async()=>{try{let e=await fetch("/api/health"),t=await e.json();c(t)}catch(e){console.error("Failed to check bot health:",e)}},x=async()=>{try{(await fetch("/api/config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).ok&&alert("Configuration saved successfully!")}catch(e){console.error("Failed to save config:",e),alert("Failed to save configuration")}},g=async()=>{if(confirm("Are you sure you want to restart the bot?"))try{await fetch("/api/restart",{method:"POST"}),alert("Bot restart initiated"),setTimeout(u,5e3)}catch(e){console.error("Failed to restart bot:",e)}},b=(e,t)=>{let s=e.split("."),l=JSON.parse(JSON.stringify(n)),a=l;for(let e=0;e<s.length-1;e++)a[s[e]]||(a[s[e]]={}),a=a[s[e]];a[s[s.length-1]]=t,r(l)};return i?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-600 to-purple-700 flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-white text-xl",children:"Loading..."})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-600 to-purple-700",children:[(0,t.jsx)("header",{className:"bg-gray-900 bg-opacity-80 backdrop-blur text-white shadow-lg",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6 flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"ðŸ¤– ArpadBot Dashboard"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Customize your Discord bot configuration"})]}),(0,t.jsx)("div",{className:"text-right",children:d?.status==="ok"?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),(0,t.jsxs)("span",{className:"text-sm",children:[d.bot_name," is online"]})]}):(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-gray-500 rounded-full"}),(0,t.jsx)("span",{className:"text-sm",children:"Bot is loading..."})]})})]})}),(0,t.jsx)("main",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"flex overflow-x-auto border-b border-gray-200",children:[{key:"general",label:"General"},{key:"channels",label:"Channels & Roles"},{key:"youtube",label:"YouTube"},{key:"tiktok",label:"TikTok"},{key:"xp",label:"XP & Leveling"},{key:"features",label:"Features"},{key:"embed",label:"Embed Builder"},{key:"control",label:"Bot Control"}].map(s=>(0,t.jsx)("button",{onClick:()=>a(s.key),className:`px-6 py-4 font-medium whitespace-nowrap transition ${e===s.key?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-600 hover:text-gray-900"}`,children:s.label},s.key))}),(0,t.jsxs)("div",{className:"p-8",children:["general"===e&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"General Settings"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Guild ID"}),(0,t.jsx)("input",{type:"text",value:n?.GUILD_ID||"",onChange:e=>b("GUILD_ID",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bot Token (from environment variable)"}),(0,t.jsx)("input",{type:"password",value:"Set via BOT_TOKEN environment variable",disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-600"})]}),(0,t.jsx)("button",{onClick:x,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 rounded-lg transition",children:"ðŸ’¾ Save Configuration"})]}),"channels"===e&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Channels & Roles"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Welcome Channel ID"}),(0,t.jsx)("input",{type:"text",value:n?.WELCOME_CHANNEL_ID||"",onChange:e=>b("WELCOME_CHANNEL_ID",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Level Up Channel ID"}),(0,t.jsx)("input",{type:"text",value:n?.LEVEL_UP_CHANNEL_ID||"",onChange:e=>b("LEVEL_UP_CHANNEL_ID",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Auto Role IDs (comma-separated)"}),(0,t.jsx)("input",{type:"text",value:(n?.AUTO_ROLE_IDS||[]).join(", "),onChange:e=>b("AUTO_ROLE_IDS",e.target.value.split(",").map(e=>e.trim())),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]}),(0,t.jsx)("button",{onClick:x,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 rounded-lg transition",children:"ðŸ’¾ Save Configuration"})]}),"youtube"===e&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"YouTube Monitoring"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Key"}),(0,t.jsx)("input",{type:"password",value:n?.youtube?.api_key||"",onChange:e=>b("youtube.api_key",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notification Channel ID"}),(0,t.jsx)("input",{type:"text",value:n?.youtube?.channel_id||"",onChange:e=>b("youtube.channel_id",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]}),(0,t.jsx)(l,{embedKey:"youtube_notification",title:"YouTube Notification Embed"}),(0,t.jsx)("button",{onClick:x,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 rounded-lg transition",children:"ðŸ’¾ Save Configuration"})]}),"tiktok"===e&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"TikTok Monitoring"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notification Channel ID"}),(0,t.jsx)("input",{type:"text",value:n?.tiktok?.channel_id||"",onChange:e=>b("tiktok.channel_id",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]}),(0,t.jsx)(l,{embedKey:"tiktok_notification",title:"TikTok Notification Embed"}),(0,t.jsx)("button",{onClick:x,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 rounded-lg transition",children:"ðŸ’¾ Save Configuration"})]}),"xp"===e&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"XP & Leveling"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"XP Per Message"}),(0,t.jsx)("input",{type:"number",value:n?.xp?.xp_per_message||10,onChange:e=>b("xp.xp_per_message",parseInt(e.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"XP Cooldown (seconds)"}),(0,t.jsx)("input",{type:"number",value:n?.xp?.cooldown_seconds||10,onChange:e=>b("xp.cooldown_seconds",parseInt(e.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]})]}),(0,t.jsx)(l,{embedKey:"levelup_message",title:"Level Up Message Embed"}),(0,t.jsx)("button",{onClick:x,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 rounded-lg transition",children:"ðŸ’¾ Save Configuration"})]}),"features"===e&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Features"}),(0,t.jsx)("div",{className:"space-y-4",children:[{key:"leveling.enabled",label:"Leveling System"},{key:"welcome.enabled",label:"Welcome Messages"},{key:"youtube.enabled",label:"YouTube Notifications"},{key:"tiktok.enabled",label:"TikTok Notifications"}].map(e=>(0,t.jsxs)("label",{className:"flex items-center gap-3 p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,t.jsx)("input",{type:"checkbox",checked:n?.[e.key.split(".")[0]]?.[e.key.split(".")[1]]||!1,onChange:t=>b(e.key,t.target.checked),className:"w-5 h-5 rounded cursor-pointer accent-indigo-600"}),(0,t.jsx)("span",{className:"text-gray-700 font-medium",children:e.label})]},e.key))}),(0,t.jsx)("button",{onClick:x,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 rounded-lg transition",children:"ðŸ’¾ Save Configuration"})]}),"embed"===e&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Embed Builders"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Create and customize embeds for various bot messages"}),(0,t.jsx)(l,{embedKey:"welcome_message",title:"Welcome Message Embed"}),(0,t.jsx)(l,{embedKey:"birthday_message",title:"Birthday Message Embed"})]}),"control"===e&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Bot Control"}),(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"Bot Status"}),d?.status==="ok"?(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsx)("p",{className:"text-green-700",children:"âœ“ Bot is online"}),(0,t.jsxs)("p",{className:"text-gray-700",children:["Bot: ",(0,t.jsx)("span",{className:"font-mono",children:d.bot_name})]}),(0,t.jsxs)("p",{className:"text-gray-700",children:["Latency: ",(0,t.jsxs)("span",{className:"font-mono",children:[(1e3*d.latency).toFixed(0),"ms"]})]})]}):(0,t.jsx)("p",{className:"text-yellow-700",children:"âš  Bot is starting..."})]}),(0,t.jsx)("button",{onClick:g,className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 rounded-lg transition",children:"ðŸ”„ Restart Bot"})]})]})]})})]})}e.s(["default",()=>a],82754)}]);